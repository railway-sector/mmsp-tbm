"use strict";(self.webpackChunkmmsp_tbm=self.webpackChunkmmsp_tbm||[]).push([[56579],{56579:(t,e,n)=>{n.r(e),n.d(e,{executeAttributeBinsQuery:()=>A});var r=n(54994),i=n(89379),s=n(3825),u=n(90534),a=n(19902),o=n(1438),l=n(80963),c=n(78238);async function f(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await async function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r="string"==typeof t?(0,u.An)(t):t,f=e.geometry?[e.geometry]:[],d=await(0,o.el)(f,null,{signal:n.signal}),m=null===d||void 0===d?void 0:d[0];null!=m&&((e=e.clone()).geometry=m);const A=(0,c.z)((0,i.A)((0,i.A)({},r.query),{},{f:"json"},function(t){const e=t.geometry,n=t.toJSON(),r=n;let i,s,u;if(null!=e&&(s=e.spatialReference,u=(0,l.YX)(s),r.geometryType=(0,a.$B)(e),r.geometry=JSON.stringify(e),r.inSR=u),n.outSR?(r.outSR=(0,l.YX)(n.outSR),i=t.outSpatialReference):e&&(r.outSR=r.inSR,i=s),r.bin&&(r.bin=JSON.stringify(r.bin)),r.quantizationParameters&&(r.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.outStatistics&&(r.outStatistics=JSON.stringify(r.outStatistics)),r.outTimeReference&&(r.outTimeReference=JSON.stringify(r.outTimeReference)),n.timeExtent){const t=n.timeExtent,{start:e,end:i}=t;null==e&&null==i||(r.time=e===i?e:"".concat(null!==e&&void 0!==e?e:"null",",").concat(null!==i&&void 0!==i?i:"null")),delete n.timeExtent}return t.defaultSpatialReference&&(0,l.aI)(s,i)&&(r.defaultSR=r.inSR,delete r.inSR,delete r.outSR),r}(e)));return(0,s.A)((0,u.fj)(r.path,"queryBins"),(0,i.A)((0,i.A)({},n),{},{query:(0,i.A)((0,i.A)({},A),n.query)}))}(t,e,n)}var d=n(80424),m=n(39729);async function A(t,e,n){const{data:i}=await f((0,r.Dl)(t),m.default.from(e),n);return d.A.fromJSON(i)}},80424:(t,e,n)=>{n.d(e,{A:()=>S});var r,i,s=n(35143),u=n(89379),a=n(39356),o=n(69098),l=n(53084),c=n(46053),f=(n(81806),n(76460),n(85842));let d=(r=class extends(o.A.ClonableMixin(a.A)){constructor(t){super(t),this.stackedAttributes=null}cloneShallow(){return new i((0,u.A)((0,u.A)({},super.cloneShallow()),{},{stackedAttributes:this.stackedAttributes}))}toJSON(){return(0,u.A)((0,u.A)({},super.toJSON()),{},{stackedAttributes:(0,l.o8)(this.stackedAttributes)})}},i=r,r);(0,s._)([(0,c.MZ)()],d.prototype,"stackedAttributes",void 0),d=i=(0,s._)([(0,f.$)("esri.AttributeBinsGraphic")],d);n(47249);var m=n(28379),A=n(77725);let S=class extends(o.A.ClonableMixin(A.A)){constructor(){super(...arguments),this.features=[]}readFeatures(t,e){return this.readFeaturesWithClass(t,e,d)}};(0,s._)([(0,c.MZ)({type:[d],json:{write:!0}})],S.prototype,"features",void 0),(0,s._)([(0,m.w)("features")],S.prototype,"readFeatures",null),S=(0,s._)([(0,f.$)("esri.rest.support.AttributeBinsFeatureSet")],S)}}]);
//# sourceMappingURL=56579.b3cb474f.chunk.js.map